var loadingOverlay;(function(){if(typeof loadingOverlay!="undefined")return;var e=function(e){return e.toString().match(/\/\*\s*([\s\S]*?)\s*\*\//m)[1]},t=[];for(var n=0;n<256;n++)t[n]=(n<16?"0":"")+n.toString(16);var r=function(){var e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return t[e&255]+t[e>>8&255]+t[e>>16&255]+t[e>>24&255]+"-"+t[n&255]+t[n>>8&255]+"-"+t[n>>16&15|64]+t[n>>24&255]+"-"+t[r&63|128]+t[r>>8&255]+"-"+t[r>>16&255]+t[r>>24&255]+t[i&255]+t[i>>8&255]+t[i>>16&255]+t[i>>24&255]},i=function(){var e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},s=null,o=function(e){s||(s=i());var t=-1;for(var n=0;n<e.length;n++)t=t>>>8^s[(t^e.charCodeAt(n))&255];return(t^-1)>>>0},u=function(){var e="lo",t="lo-"+r(),n={wrapClass:e+"-wrap",spinClass:e+"-spin",spinID:t,target:"body",spinMinMS:300,spinWaitMS:100},i=function(e){return o(e.wrapClass+e.spinClass+e.spinID)},s={};return{uuid:r,cache:function(e,t){var n=i(e);return s[n]?s[n]:(s[n]=t(),s[n])},config2param:function(e){var t=n;if(typeof e=="undefined"||typeof e!="object")return t;for(var r in t)typeof e[r]!="undefined"&&(t[r]=e[r]);return t}}}();loadingOverlay=function(t){var n=u.config2param(t);return u.cache(n,function(){var t="#"+n.spinID,i="",s=!1,o,a={invoked:!1,cb:null},f={},l={},c={status:!1,cb_hash:{}},h={},p=function(){var e=r();return i=e,s=!1,l[e]=!1,h[e]=c,setTimeout(function(){if(l[e]==1)return;if(s&&i==e)return s=!1,i=null,!1;if(i!=e)return!1;o=Date.now(),$(t).show()},n.spinWaitMS),e},d=n.spinMinMS,v=function g(e,n,r){var p;typeof r=="undefined"?p=u.uuid():p=r;if(l[e]===!0){typeof f[p]!="undefined"&&(f[p].invoked||(f[p].invoked=!0,f[p]()));return}f[p]=a,typeof n!="undefined"&&(f[p].cb=n),typeof h[e]=="undefined"&&(h[e]=c),h[e].cb_hash[p]=f[p],s=!0,setTimeout(function(){if(e!=i){l[e]=!0;if(typeof n=="function"){f[p].invoked=!0,h[e].cb_hash[p].invoked=!0,n();for(var r in h[e].cb_hash)!h[e].cb_hash[r].invoked&&typeof h[e].cb_hash[r].cb=="function"&&(h[e].cb_hash[r].invoked=!0,h[e].cb_hash[r].cb())}return}var s=Date.now()-o;if(s<d)setTimeout(function(){g(e,n,p)},10);else{$(t).hide(),l[e]=!0;if(typeof n=="function"){h[e].cb_hash[p].invoked=!0,f[p].invoked=!0,n();for(var r in h[e].cb_hash)!h[e].cb_hash[r].invoked&&typeof h[e].cb_hash[r].cb=="function"&&(h[e].cb_hash[r].invoked=!0,h[e].cb_hash[r].cb())}}},10)};typeof cancelSpinnerCallee=="undefined";var m={cancel:v,activate:p};return $(t).length&&$(t).hasClass(n["class"])?m:($(n.target).append(e(function(){}).replace(/%wrapClass%/g,n.wrapClass).replace(/%spinClass%/g,n.spinClass)),$(n.target).append(e(function(){}).replace(/%wrapClass%/g,n.wrapClass).replace(/%spinID%/g,n.spinID)),m)})}})();